## 计划：Python实现文档向量化流程

### 目标
使用Python实现与现有Java系统相同的文档向量化流程，包括内容提取、智能语义分块、批量向量生成、数据存储。

### 技术选型
- **嵌入模型调用**：requests 库调用嵌入API（BAAI/bge-m3）
- **数据库操作**：pymysql 或 SQLAlchemy 操作MySQL/SeekDB
- **文本处理**：re 正则表达式、jieba 分词
- **配置管理**：PyYAML 或 Pydantic

### 实现步骤

#### 1. 创建项目结构
```
python-vectorization/
├── config/
│   └── settings.py          # 配置文件
├── core/
│   ├── __init__.py
│   ├── extractor.py         # 内容提取模块
│   ├── chunker.py           # 智能语义分块
│   ├── embedder.py          # 向量生成
│   └── storage.py           # 数据存储
├── models/
│   └── document.py          # 数据模型
├── main.py                  # 主入口
└── requirements.txt         # 依赖
```

#### 2. 核心模块实现

**extractor.py** - 内容提取
- 支持多种文档格式（PDF、Word、TXT）
- 提取 title、content、summary 等字段

**chunker.py** - 智能语义分块
- 法律条文识别（正则匹配"第XXX条"）
- 512字符块大小，150字符重叠
- 智能合并/拆分过短/过长段落

**embedder.py** - 向量生成
- 批量调用嵌入API
- 重试机制
- 1024维向量输出

**storage.py** - 数据存储
- 批量插入 document_vectors 表
- 事务管理
- HNSW索引支持

### 预计产出
创建 `python-vectorization/` 目录，包含完整的Python向量化实现代码，可独立运行或与现有Java系统协同工作。