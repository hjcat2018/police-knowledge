# 添加混合检索综合分阈值过滤

## 问题分析

用户反馈当前混合检索结果中，综合分较低的结果也会被返回，例如综合分0.0480的结果，用户希望设置一个阈值，只有达到阈值的结果才被认为有效。

## 实现方案

### 1. 配置文件修改

**文件：** `SeekDBConfig.java`

# 在 `SeekDBConfig` 类中添加 `hybridScoreThreshold` 配置项

* 默认值设置为 `0.2`（可根据实际情况调整）
* 用于控制混合搜索的综合分阈值

### 2. 搜索逻辑修改

**文件：** `VectorServiceImpl.java`

* 在 `seekDBHybridSearch` 方法中，在排序后添加阈值过滤

* 遍历排序后的结果，只保留分数大于等于阈值的结果

* 在日志中记录过滤前后的结果数量

### 3. 阈值应用

* 阈值应用于最终的综合分，即经过加权融合计算后的分数

* 过滤操作在排序之后、截取TopK之前执行

* 确保只有真正相关的结果被返回给前端

## 预期效果

* 综合分低于阈值的结果将被过滤掉

* 前端只显示综合分达到阈值的相关结果

* 搜索结果的质量和相关性将得到提升

* 配置项可通过修改配置文件灵活调整

