## Spring AI Alibaba文档切分和向量化优化方案

### 一、任务目标

按照Spring AI Alibaba官方文档的最佳实践，优化文档解析、切分和向量化流程。

### 二、具体实施步骤

#### 步骤1：集成Spring AI Alibaba官方依赖

* 添加`spring-ai-alibaba-starter`依赖

* 配置EmbeddingModel自动装配

* 使用Spring AI的VectorStore接口

#### 步骤2：重构文档解析层

* 引入`PagePdfDocumentReader`和`ParagraphPdfDocumentReader`

* 引入`MarkdownDocumentReader`

* 引入`TikaDocumentReader`处理多格式

* 保留文档元数据（文件名、页码、标题层级等）

#### 步骤3：优化文档分块策略

* 使用Spring AI官方的`TokenTextSplitter`

* 配置中文标点符号（。！？；）

* 支持中英文混合文本

* 添加重叠分块（Overlap）机制

* 支持自定义分块策略配置

#### 步骤4：优化向量化流程

* 使用`EmbeddingModel`接口替代手动API调用

* 支持批量向量化

* 添加向量缓存机制

* 优化向量存储结构

#### 步骤5：完善VectorStore配置

* 配置OceanBase SeekDB VectorStore

* 实现真正的向量搜索功能

* 支持混合搜索（向量+全文）

### 三、预期效果

* 文档解析更准确，保留更多结构信息

* 分块质量提升，支持更好的语义理解

* 向量化效率提高，支持批量处理

* 代码结构更规范，符合Spring AI Alibaba最佳实践

